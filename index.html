<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title>æ…¢æ…¢æ¥ï¼Œå¥½å—</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{
  height:100vh;
  background:#000;
  color:#fff;
  font-family:"PingFang SC","Microsoft YaHei";
  overflow:hidden;
}
canvas{
  position:fixed;top:0;left:0;width:100%;height:100%;z-index:0
}
.card{
  position:relative;
  z-index:2;
  width:92%;
  max-width:400px;
  margin:auto;
  top:50%;
  transform:translateY(-50%);
  background:rgba(255,255,255,.08);
  backdrop-filter:blur(16px);
  border-radius:22px;
  padding:30px 26px;
  text-align:center;
}
.text{
  line-height:1.9;
  min-height:220px;
  margin-bottom:24px;
  animation:fade .6s;
}
@keyframes fade{
  from{opacity:0;transform:translateY(10px)}
  to{opacity:1;transform:none}
}
.buttons{
  display:flex;
  flex-wrap:wrap;
  gap:12px;
  justify-content:center;
}
button{
  padding:12px 22px;
  border:none;
  border-radius:999px;
  cursor:pointer;
  background:rgba(255,255,255,.18);
  color:#fff;
  transition:.3s;
}
button:hover{background:#ff4d6d}
.primary{background:#ff4d6d}
.heart{font-size:42px;animation:pulse 1s infinite}
@keyframes pulse{0%{transform:scale(1)}50%{transform:scale(1.2)}100%{transform:scale(1)}}
</style>
</head>

<body>

<canvas id="bg"></canvas>

<audio id="music" loop>
  <source src="music.mp3" type="audio/mpeg">
</audio>

<div class="card">
  <div id="text" class="text"></div>
  <div id="buttons" class="buttons"></div>
</div>

<script>
/* ===== èƒŒæ™¯ ===== */
const canvas=document.getElementById("bg");
const ctx=canvas.getContext("2d");
let w,h;
function resize(){w=canvas.width=innerWidth;h=canvas.height=innerHeight}
resize();onresize=resize;
const hearts=[];
for(let i=0;i<40;i++){
  hearts.push({x:Math.random()*w,y:Math.random()*h,s:Math.random()*1+0.5})
}
function animate(){
  ctx.clearRect(0,0,w,h);
  hearts.forEach(p=>{
    ctx.fillStyle="rgba(255,77,109,.6)";
    ctx.beginPath();
    ctx.arc(p.x,p.y,2,0,Math.PI*2);
    ctx.fill();
    p.y-=p.s;
    if(p.y<0)p.y=h;
  });
  requestAnimationFrame(animate);
}
animate();

/* ===== éŸ³ä¹ ===== */
const music=document.getElementById("music");
let started=false;
function playMusic(){
  if(started) return;
  started=true;
  music.volume=0;
  music.play();
  let v=0;
  const t=setInterval(()=>{
    v+=0.02;
    music.volume=Math.min(v,0.6);
    if(v>=0.6) clearInterval(t);
  },200);
}

/* ===== é¡µé¢é€»è¾‘ ===== */
const text=document.getElementById("text");
const buttons=document.getElementById("buttons");

function setPage(t,btns){
  text.innerHTML=t;
  buttons.innerHTML="";
  btns.forEach(b=>{
    const btn=document.createElement("button");
    btn.innerText=b.text;
    btn.className=b.class||"";
    btn.onclick=b.fn;
    buttons.appendChild(btn);
  });
}

/* ===== æµç¨‹å¼€å§‹ ===== */
setPage(
  "åˆ«æ€¥ ğŸ™‚<br><br>è¿™ä¸æ˜¯å‘Šç™½<br>ä¹Ÿä¸æ˜¯ä»»åŠ¡<br><br>åªæ˜¯æƒ³é™ªä½ <br>æ…¢æ…¢èµ°ä¸€ä¼šå„¿",
  [
    {text:"é‚£æˆ‘å¬ä½ è¯´",fn:step1},
    {text:"ä½ å…ˆè¯´ç‚¹è½»æ¾çš„",fn:step1}
  ]
);

function step1(){
  playMusic();
  setPage(
    "å¦‚æœç°åœ¨ä¸ç”¨è€ƒè™‘ä»»ä½•äº‹<br><br>ä½ æ›´æƒ³â€”â€”",
    [
      {text:"çªç€åˆ·æ‰‹æœº",fn:()=>step1r("æˆ‘çŒœä½ ä¼šé€‰è¿™ä¸ª")},
      {text:"å‡ºå»èµ°èµ°",fn:()=>step1r("æŒºåƒä½ çš„")},
      {text:"å’ŒäººèŠèŠå¤©",fn:()=>step1r("æˆ‘ä¹Ÿæ˜¯")}
    ]
  );
}
function step1r(msg){
  setPage(
    msg+"<br><br>æœ‰äº›é€‰æ‹©<br>å…¶å®å°±èƒ½çœ‹å‡ºä¸€ä¸ªäºº",
    [{text:"ç»§ç»­",fn:step2}]
  );
}

function step2(){
  setPage(
    "ä½ æœ‰æ²¡æœ‰å‘ç°<br><br>æœ‰äº›äºº<br>å³ä½¿ä»€ä¹ˆéƒ½ä¸åš<br>ä¹Ÿä¸ä¼šè®©ä½ è§‰å¾—æ— èŠ",
    [
      {text:"å¥½åƒæœ‰",fn:step3},
      {text:"ä½ åœ¨æš—ç¤ºä»€ä¹ˆ",fn:step3}
    ]
  );
}

function step3(){
  setPage(
    "æˆ‘ä¸æ˜¯ä¸€ä¸ª<br>å¾ˆä¼šåˆ¶é€ æƒŠå–œçš„äºº<br><br>ä½†æˆ‘å¾ˆæ“…é•¿<br>æŠŠæ—¥å­è¿‡ç¨³",
    [
      {text:"è¿™è¯æœ‰ç‚¹æ„æ€",fn:step4}
    ]
  );
}

function step4(){
  setPage(
    "å¦‚æœæœ‰ä¸€å¤©<br><br>æƒ…ç»ªä½ä¸€ç‚¹<br>ç”Ÿæ´»ä¹±ä¸€ç‚¹<br><br>ä½ å¸Œæœ›èº«è¾¹çš„äººæ˜¯â€”â€”",
    [
      {text:"å®‰é™é™ªç€çš„",fn:()=>step4r()},
      {text:"èƒ½è®©æˆ‘å®‰å¿ƒçš„",fn:()=>step4r()}
    ]
  );
}
function step4r(){
  setPage(
    "æˆ‘è®°ä½äº†<br><br>å› ä¸ºæˆ‘ä¹Ÿæ˜¯è¿™æ ·çš„äºº",
    [{text:"ç»§ç»­",fn:step5}]
  );
}

function step5(){
  setPage(
    "æœ‰äº›è¯<br>ä¸é€‚åˆå¤ªæ—©è¯´<br><br>ä½†å¦‚æœèµ°å¾—å¤Ÿä¹…<br>è‡ªç„¶å°±æƒ³è¯´äº†",
    [{text:"ä½ æ…¢æ…¢è¯´",fn:step6}]
  );
}

function step6(){
  setPage(
    "æˆ‘å‘ç°<br><br>æˆ‘ä¼šå¼€å§‹åœ¨å¾ˆå¤šäº‹æƒ…ä¸Š<br>ä¸‹æ„è¯†æƒ³åˆ°ä½ ",
    [{text:"æ¯”å¦‚ï¼Ÿ",fn:step7}]
  );
}

function step7(){
  setPage(
    "æ¯”å¦‚ä»Šå¤©çš„é£<br>æ¯”å¦‚è·¯è¾¹çš„ç¯<br><br>æ¯”å¦‚ä¸€äº›<br>å¾ˆæ™®é€šçš„ç¬é—´",
    [{text:"ç»§ç»­",class:"primary",fn:step8}]
  );
}

function step8(){
  setPage(
    "æ‰€ä»¥æˆ‘æƒ³è®¤çœŸé—®ä½ ä¸€æ¬¡<br><br>ä¸æ˜¯ä¸€æ—¶å†²åŠ¨<br>ä¹Ÿä¸æ˜¯æƒ…ç»ªä¸Šå¤´<br><br>å¦‚æœä»¥åå¾ˆå¤šæ—¥å­<br>æˆ‘éƒ½ç«™åœ¨ä½ èº«è¾¹",
    [{text:"æˆ‘æ„¿æ„",class:"primary",fn:step9}]
  );
}

function step9(){
  setPage(
    "<div class='heart'>â¤</div><br>è¿™ä¸ª1314<br><br>ä¸æ˜¯å½¢å¼<br>æ˜¯æˆ‘æŠŠè®¤çœŸ<br>äº¤å‡ºæ¥",
    [{
      text:"æˆ‘æ”¶ä¸‹äº†",
      class:"primary",
      fn:()=>location.href="ä½ çš„å¾®ä¿¡æ”¶æ¬¾ç ç›´é“¾"
    }]
  );
}
</script>
</body>
</html>
